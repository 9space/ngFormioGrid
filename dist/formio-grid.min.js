!function e(i,n,r){function o(a,u){if(!n[a]){if(!i[a]){var l="function"==typeof require&&require;if(!u&&l)return l(a,!0);if(t)return t(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[a]={exports:{}};i[a][0].call(s.exports,function(e){var n=i[a][1][e];return o(n?n:e)},s,s.exports,e,i,n,r)}return n[a].exports}for(var t="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,i,n){"use strict";angular.module("ngFormioGrid",["formio","ngSanitize","ui.grid","ui.grid.pagination","angular-bind-html-compile"]).filter("formioTableView",["Formio","formioComponents","$interpolate",function(e,i,n){return function(e,r){var o=i.components[r.type];if(!o.tableView)return e;if(r.multiple&&e.length>0){var t=[];return angular.forEach(e,function(e){t.push(o.tableView(e,r,n))}),t}return o.tableView(e,r,n)}}]).directive("formioGrid",function(){return{restrict:"E",replace:!0,scope:{src:"=",query:"=?",columns:"=?"},template:'<div><div ui-grid="gridOptions" ui-grid-pagination class="grid"></div></div>',controller:["Formio","formioComponents","FormioUtils","$scope",function(e,i,n,r){var o=null,t={pageNumber:1,pageSize:25};angular.isUndefined(r.query)&&(r.query={});var a=function(){o&&(t.pageSize&&(r.query.limit=t.pageSize),t.pageNumber&&(r.query.skip=(t.pageNumber-1)*t.pageSize),o.loadSubmissions({params:r.query}).then(function(e){r.gridOptions.totalItems=e.serverCount,r.gridOptions.data=e}))};r.gridOptions={paginationPageSizes:[25,50,75],paginationPageSize:t.pageSize,useExternalPagination:!0,enableSorting:!1,columnDefs:[],data:[],onRegisterApi:function(e){r.gridApi=e,e.pagination.on.paginationChanged(r,function(e,i){t.pageNumber=e,t.pageSize=i,a()})}};var u=function(){r.src&&(o=new e(r.src),o.loadForm().then(function(e){r.gridOptions.columnDefs=[],r.gridOptions.columnDefs.push({name:"",field:"_id",width:35,cellTemplate:'<a class="btn btn-sm btn-default" ng-click="$emit(\'rowView\', row.entity)"><span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span></a>'}),n.eachComponent(e.components,function(e){(r.columns&&-1!==r.columns.indexOf(e.key)||!r.columns&&e.input&&e.tableView)&&r.gridOptions.columnDefs.push({component:e,name:e.label,field:"data."+e.key,cellTemplate:'<div class="ui-grid-cell-contents" bind-html-compile="COL_FIELD | formioTableView:this.col.colDef.component"></div>'})})}),a())};r.$on("reloadGrid",function(e,i,n){r.src=i,r.query=n,u()}),u()}]}})},{}]},{},[1]);